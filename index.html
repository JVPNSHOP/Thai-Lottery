<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>á‚D/áƒD á€‘á€®á€‚á€á€”á€ºá€¸ á€›á€±á€¬á€„á€ºá€¸á€á€šá€ºá€›á€±á€¸</title>
    <style>
        body { font-family: 'Arial', sans-serif; margin: 20px; background-color: #f4f4f4; }
        .container { background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .section-header { margin-top: 20px; border-bottom: 2px solid #333; padding-bottom: 5px; }
        .stats-box { margin-top: 15px; padding: 10px; border: 1px solid #ccc; background-color: #e9e9e9; }
        .number-input { margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
        .receipt { border: 1px dashed #333; padding: 15px; margin-top: 20px; background-color: #fff; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¢ á‚D/áƒD á€‘á€®á€‚á€á€”á€ºá€¸ á€›á€±á€¬á€„á€ºá€¸á€á€»á€™á€¾á€¯ á€…á€”á€…á€º</h1>

        <div class="section-header">
            <h2>áá‹ á€‚á€á€”á€ºá€¸ á€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€á€¼á€„á€ºá€¸</h2>
        </div>
        <div class="number-input">
            <label for="input2DUp">á‚D á€¡á€•á€±á€«á€º á€‚á€á€”á€ºá€¸ (á€á€ á€™á€¾ á‰á‰):</label>
            <input type="number" id="input2DUp" min="0" max="99">
            <label for="amount2DUp">á€„á€½á€±á€•á€™á€¬á€:</label>
            <input type="number" id="amount2DUp" min="100">
            <button onclick="addEntry('2D_Up')">á€‘á€Šá€·á€ºá€›á€”á€º</button>
        </div>

        <div class="number-input">
            <label for="input2DDown">á‚D á€¡á€±á€¬á€€á€º á€‚á€á€”á€ºá€¸ (á€á€ á€™á€¾ á‰á‰):</label>
            <input type="number" id="input2DDown" min="0" max="99">
            <label for="amount2DDown">á€„á€½á€±á€•á€™á€¬á€:</label>
            <input type="number" id="amount2DDown" min="100">
            <button onclick="addEntry('2D_Down')">á€‘á€Šá€·á€ºá€›á€”á€º</button>
        </div>
        
        <div class="number-input">
            <label for="input3D">áƒD á€‚á€á€”á€ºá€¸ (á€á€á€ á€™á€¾ á‰á‰á‰):</label>
            <input type="number" id="input3D" min="0" max="999">
            <label for="amount3D">á€„á€½á€±á€•á€™á€¬á€:</label>
            <input type="number" id="amount3D" min="100">
            <button onclick="addEntry('3D')">á€‘á€Šá€·á€ºá€›á€”á€º</button>
        </div>

        <div class="number-input">
            <label for="inputTut3">á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸ á€¡á€•á€¼á€”á€º á€‚á€á€”á€ºá€¸:</label>
            <input type="number" id="inputTut3" min="0" max="999">
            <label for="amountTut3">á€„á€½á€±á€•á€™á€¬á€:</label>
            <input type="number" id="amountTut3" min="100">
            <button onclick="addEntry('Tut_3')">á€‘á€Šá€·á€ºá€›á€”á€º</button>
        </div>
        
        <h3>á€›á€±á€¬á€„á€ºá€¸á€á€»á€‘á€¬á€¸á€á€±á€¬ á€…á€¬á€›á€„á€ºá€¸</h3>
        <table border="1" width="100%">
            <thead>
                <tr>
                    <th>á€¡á€™á€»á€­á€¯á€¸á€¡á€…á€¬á€¸</th>
                    <th>á€‚á€á€”á€ºá€¸</th>
                    <th>á€„á€½á€±á€•á€™á€¬á€</th>
                </tr>
            </thead>
            <tbody id="salesList">
                </tbody>
        </table>

        <div class="section-header">
            <h2>á‚á‹ á€˜á€±á€¬á€„á€ºá€á€»á€¬ (Receipt)</h2>
        </div>
        <div class="receipt" id="receiptArea">
            <h4>á€˜á€±á€¬á€„á€ºá€á€»á€¬ á€”á€¶á€•á€«á€á€º: <span id="receiptNumber">...</span></h4>
            <p>á€”á€±á€·á€…á€½á€²: <span id="receiptDate">...</span></p>
            <p>á€‚á€á€”á€ºá€¸á€™á€»á€¬á€¸: <ul id="receiptItems"></ul></p>
            <p>á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: <strong id="receiptTotal">á€ á€€á€»á€•á€º</strong></p>
            <button onclick="printReceipt()">á€˜á€±á€¬á€„á€ºá€á€»á€¬ á€•á€›á€„á€·á€º á€‘á€¯á€á€ºá€›á€”á€º</button>
        </div>
        
        <div class="section-header">
            <h2>áƒá‹ á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€…á€¬á€›á€„á€ºá€¸á€¡á€„á€ºá€¸</h2>
        </div>
        <div class="stats-box">
            <p>á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€›á€±á€¬á€„á€ºá€¸á€‘á€¬á€¸á€á€Šá€·á€º á€‚á€á€”á€ºá€¸á€¡á€›á€±á€¡á€á€½á€€á€º: <strong id="totalNumbersSold">á€</strong></p>
            <p>á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€›á€±á€¬á€„á€ºá€¸á€›á€„á€½á€±: <strong id="totalSalesAmount">á€ á€€á€»á€•á€º</strong></p>
        </div>

    </div>

    <script>
        // á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€á€²á€· JavaScript á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€á€»á€€á€ºá€á€½á€± á€’á€®á€”á€±á€›á€¬á€™á€¾á€¬ á€›á€±á€¸á€›á€•á€«á€™á€šá€º
        let salesData = [];
        let totalSales = 0;
        let totalCount = 0;
        let receiptCounter = 1000; // á€˜á€±á€¬á€„á€ºá€á€»á€¬á€”á€¶á€•á€«á€á€º á€…á€™á€¾á€á€º

        function addEntry(type) {
            let inputId, amountId, number, amount;
            
            // 1. á€‚á€á€”á€ºá€¸á€”á€²á€· á€•á€™á€¬á€á€€á€­á€¯ á€›á€šá€°á€á€¼á€„á€ºá€¸
            if (type === '2D_Up') {
                number = document.getElementById('input2DUp').value;
                amount = parseInt(document.getElementById('amount2DUp').value);
                if (number.length !== 2 || amount < 100) { alert("2D á€¡á€•á€±á€«á€ºá€‚á€á€”á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€„á€½á€±á€•á€™á€¬á€ á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€”á€±á€•á€«á€á€Šá€ºá‹"); return; }
            } else if (type === '2D_Down') {
                number = document.getElementById('input2DDown').value;
                amount = parseInt(document.getElementById('amount2DDown').value);
                if (number.length !== 2 || amount < 100) { alert("2D á€¡á€±á€¬á€€á€ºá€‚á€á€”á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€„á€½á€±á€•á€™á€¬á€ á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€”á€±á€•á€«á€á€Šá€ºá‹"); return; }
            } else if (type === '3D') {
                number = document.getElementById('input3D').value;
                amount = parseInt(document.getElementById('amount3D').value);
                if (number.length !== 3 || amount < 100) { alert("3D á€‚á€á€”á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€„á€½á€±á€•á€™á€¬á€ á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€”á€±á€•á€«á€á€Šá€ºá‹"); return; }
            } else if (type === 'Tut_3') {
                // á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸á€¡á€á€½á€€á€º á€á€®á€¸á€á€¼á€¬á€¸ logic á€œá€­á€¯á€¡á€•á€ºá€á€Šá€º (á€¥á€•á€™á€¬- á€‚á€á€”á€ºá€¸ á† á€™á€»á€­á€¯á€¸ á€á€½á€²á€‘á€Šá€·á€ºá€›á€”á€º)
                number = document.getElementById('inputTut3').value;
                amount = parseInt(document.getElementById('amountTut3').value);
                if (number.length !== 3 || amount < 100) { alert("á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸ á€‚á€á€”á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€„á€½á€±á€•á€™á€¬á€ á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€”á€±á€•á€«á€á€Šá€ºá‹"); return; }
                // á€¤á€”á€±á€›á€¬á€á€½á€„á€º á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸ á€¡á€•á€¼á€”á€ºá€¡á€á€½á€€á€º á€”á€±á€¬á€€á€ºá€‘á€•á€º entry á€™á€»á€¬á€¸ á€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€›á€”á€º á€œá€­á€¯á€¡á€•á€ºá€á€Šá€º
                // á€¥á€•á€™á€¬- '123' á€€á€­á€¯ '123', '132', '213', '231', '312', '321' á€¡á€–á€¼á€…á€º á€‘á€Šá€ºá€·á€á€½á€„á€ºá€¸á€›á€”á€º
            }
            
            // 2. á€’á€±á€á€¬á€€á€­á€¯ á€…á€¬á€›á€„á€ºá€¸á€‘á€² á€‘á€Šá€·á€ºá€á€¼á€„á€ºá€¸
            const entry = { type: type, number: number, amount: amount };
            salesData.push(entry);

            // 3. á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€á€½á€€á€ºá€á€»á€€á€ºá€™á€¾á€¯ á€¡á€†á€„á€·á€ºá€™á€¼á€¾á€„á€·á€ºá€á€„á€ºá€á€¼á€„á€ºá€¸
            totalSales += amount;
            totalCount += 1; // á€’á€®á€”á€±á€›á€¬á€™á€¾á€¬ á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸á€¡á€á€½á€€á€º á€‚á€á€”á€ºá€¸ á† á€œá€¯á€¶á€¸á€†á€­á€¯ á† á€á€¯ á€œá€­á€¯á€¡á€•á€ºá€•á€«á€™á€šá€º

            // 4. á€…á€¬á€™á€»á€€á€ºá€”á€¾á€¬á€€á€­á€¯ á€¡á€†á€„á€·á€ºá€™á€¼á€¾á€„á€·á€ºá€á€„á€ºá€á€¼á€„á€ºá€¸
            updateDisplay();
        }

        function updateDisplay() {
            // á€…á€¬á€›á€„á€ºá€¸ á€‡á€šá€¬á€¸á€€á€­á€¯ á€–á€¼á€Šá€·á€ºá€á€¼á€„á€ºá€¸
            const salesList = document.getElementById('salesList');
            salesList.innerHTML = '';
            let currentReceiptItems = "";
            let currentReceiptTotal = 0;

            salesData.forEach(item => {
                const row = salesList.insertRow();
                row.insertCell(0).textContent = item.type.replace('_', ' '); // á€¡á€™á€»á€­á€¯á€¸á€¡á€…á€¬á€¸
                row.insertCell(1).textContent = item.number; // á€‚á€á€”á€ºá€¸
                row.insertCell(2).textContent = item.amount.toLocaleString() + ' Ks'; // á€•á€™á€¬á€

                // á€˜á€±á€¬á€„á€ºá€á€»á€¬á€¡á€á€½á€€á€º á€’á€±á€á€¬ á€…á€¯á€…á€Šá€ºá€¸á€á€¼á€„á€ºá€¸
                currentReceiptItems += `<li>${item.type.replace('_', ' ')}: ${item.number} - ${item.amount.toLocaleString()} Ks</li>`;
                currentReceiptTotal += item.amount;
            });

            // á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€…á€¬á€›á€„á€ºá€¸á€¡á€„á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯ á€•á€¼á€á€á€¼á€„á€ºá€¸
            document.getElementById('totalNumbersSold').textContent = totalCount.toLocaleString();
            document.getElementById('totalSalesAmount').textContent = totalSales.toLocaleString() + ' Ks';

            // á€˜á€±á€¬á€„á€ºá€á€»á€¬ á€§á€›á€­á€šá€¬á€€á€­á€¯ á€–á€¼á€Šá€·á€ºá€á€¼á€„á€ºá€¸
            document.getElementById('receiptNumber').textContent = 'BCH-' + receiptCounter;
            document.getElementById('receiptDate').textContent = new Date().toLocaleString();
            document.getElementById('receiptItems').innerHTML = currentReceiptItems;
            document.getElementById('receiptTotal').textContent = currentReceiptTotal.toLocaleString() + ' Ks';
        }

        function printReceipt() {
            if (salesData.length === 0) {
                alert("á€¡á€›á€„á€ºá€†á€¯á€¶á€¸ á€‚á€á€”á€ºá€¸á€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€•á€±á€¸á€•á€«á‹");
                return;
            }
            
            // print á€œá€¯á€•á€ºá€›á€”á€ºá€¡á€á€½á€€á€º á€§á€›á€­á€šá€¬á€€á€­á€¯ á€›á€šá€°á€•á€¼á€®á€¸ print á€á€„á€ºá€¸á€’á€­á€¯á€¸á€–á€½á€„á€·á€ºá€á€¼á€„á€ºá€¸
            const receiptContent = document.getElementById('receiptArea').outerHTML;
            const printWindow = window.open('', '', 'height=600,width=400');
            printWindow.document.write('<html><head><title>á€˜á€±á€¬á€„á€ºá€á€»á€¬</title>');
            printWindow.document.write('<style>body { font-family: Tahoma, sans-serif; } .receipt { border: 1px dashed #333; padding: 15px; } ul { list-style: none; padding-left: 0; } </style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write(receiptContent);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();

            // á€˜á€±á€¬á€„á€ºá€á€»á€¬á€”á€¶á€•á€«á€á€º á€á€­á€¯á€¸á€™á€¼á€¾á€„á€·á€ºá€á€¼á€„á€ºá€¸
            receiptCounter++;
            
            // á€›á€±á€¬á€„á€ºá€¸á€á€»á€•á€¼á€®á€¸á€á€¬á€¸ á€’á€±á€á€¬á€™á€»á€¬á€¸á€€á€­á€¯ á€›á€¾á€„á€ºá€¸á€œá€„á€ºá€¸á€á€¼á€„á€ºá€¸ (Backend á€á€½á€„á€º á€á€­á€™á€ºá€¸á€†á€Šá€ºá€¸á€•á€¼á€®á€¸á€™á€¾ á€›á€¾á€„á€ºá€¸á€á€„á€ºá€·á€á€Šá€º)
            salesData = [];
            totalSales = 0;
            totalCount = 0;
            updateDisplay(); // á€…á€¬á€™á€»á€€á€ºá€”á€¾á€¬á€€á€­á€¯ á€•á€¼á€”á€ºá€œá€Šá€º á€¡á€†á€„á€·á€ºá€™á€¼á€¾á€„á€·á€ºá€á€„á€ºá€á€¼á€„á€ºá€¸
        }
        
        // á€…á€á€„á€ºá€á€»á€­á€”á€ºá€á€½á€„á€º á€…á€¬á€™á€»á€€á€ºá€”á€¾á€¬á€€á€­á€¯ á€•á€¼á€á€á€¼á€„á€ºá€¸
        updateDisplay(); 

        // á€á€½á€á€ºá€á€¯á€¶á€¸á€œá€¯á€¶á€¸ á€¡á€•á€¼á€”á€ºá€¡á€á€½á€€á€º á€›á€¾á€„á€ºá€¸á€œá€„á€ºá€¸á€á€»á€€á€º
        function generatePermutations(numStr) {
            // á€’á€® function á€€ '123' á€†á€­á€¯á€›á€„á€º ['123', '132', '213', '231', '312', '321'] á€€á€­á€¯ á€‘á€¯á€á€ºá€•á€±á€¸á€›á€•á€«á€™á€šá€ºá‹
            // á€á€€á€šá€ºá€á€™á€ºá€¸ á€…á€”á€…á€ºá€€á€»á€á€²á€· á€…á€”á€…á€ºá€¡á€á€½á€€á€º á€’á€®á€”á€±á€›á€¬á€™á€¾á€¬ á€•á€­á€¯á€™á€­á€¯á€›á€¾á€¯á€•á€ºá€‘á€½á€±á€¸á€á€²á€· logic á€œá€­á€¯á€¡á€•á€ºá€•á€«á€œá€­á€™á€ºá€·á€™á€šá€ºá‹
        }

    </script>
</body>
</html>
